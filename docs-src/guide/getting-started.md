# Getting Started

This guide will walk you through installing FireSchema and generating your first
set of typed Firestore code.

## Prerequisites

- Node.js (LTS version recommended) and npm (or Bun, Yarn, pnpm).
- For TypeScript targets: An existing TypeScript project with the relevant
  Firebase SDK (`firebase` for client, `firebase-admin` for admin) installed.
- For Dart targets: An existing Dart/Flutter project with the `cloud_firestore`
  package installed.

## Installation

You need to install the FireSchema CLI tool and the appropriate runtime library
for your target platform.

### 1. Install FireSchema CLI

You can install the CLI globally or as a dev dependency in your project.

```bash
# Install globally (recommended for easy access)
npm install -g @shtse8/fireschema

# --- OR ---

# Install as a dev dependency in your project's root
npm install --save-dev @shtse8/fireschema
```

_(Note: During local development of FireSchema itself, you might use
`npm install -g .` or `npm install --save-dev .` from the root directory)._

### 2. Install Runtime Libraries

The code generated by FireSchema depends on a small runtime library for base
functionality. Install the one(s) you need in the project where you'll **use**
the generated code:

**For TypeScript (Client SDK):**

```bash
# In your frontend/web project directory:
npm install @shtse8/fireschema-ts-client-runtime
# Ensure you also have the Firebase JS SDK (v9+):
npm install firebase
```

**For TypeScript (Admin SDK):**

```bash
# In your backend/Node.js project directory:
npm install @shtse8/fireschema-ts-admin-runtime
# Ensure you also have the Firebase Admin SDK:
npm install firebase-admin
```

**For Dart/Flutter (Client SDK):**

```bash
# In your Dart/Flutter project directory:
dart pub add fireschema_dart_runtime
# Or for Flutter:
# flutter pub add fireschema_dart_runtime

# Ensure you also have cloud_firestore:
dart pub add cloud_firestore
# Or for Flutter:
# flutter pub add cloud_firestore
```

## Basic Usage Workflow

1. **Define your Schema:** Create a `firestore.schema.json` file defining your
   Firestore collections and fields. See the
   [Schema Definition](./schema-definition.md) guide for details.
   - _Example:_ You can find a sample schema at `examples/firestore.schema.json`
     in the FireSchema repository.

2. **Configure Generation:** Create a `fireschema.config.json` file specifying
   the path to your schema and your desired output target(s). See the
   [Configuration](./configuration.md) guide for details.
   - _Example:_ You can find a sample config at
     `examples/fireschema.config.json` in the FireSchema repository.

3. **Run the Generator:** Execute the `fireschema generate` command from your
   project root (or wherever your config file is located).

   ```bash
   # If using the default config name (fireschema.config.json)
   npx fireschema generate

   # --- OR ---

   # Specifying a config file path
   npx fireschema generate -c ./path/to/your/config.json
   ```
   _(If installed globally, you can just run `fireschema generate`)_.

4. **Use Generated Code:** Import and utilize the generated classes (models,
   collection references, query builders, update builders) in your TypeScript or
   Dart project. Check out the [Usage Examples](./usage-examples.md) guide.

Now you're ready to define your schema and configure the generator!
